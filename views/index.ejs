<%- include("partials/header.ejs") %>

    <div id="books">
        <% if (locals.books) { %>
            <% books.forEach(book => { %>
                <div class="book">
                    <div class="book-cover">
                        <% if (book.cover_id) { %>
                            <img src="https://covers.openlibrary.org/b/ID/<%= book.cover_id %>-M.jpg" alt="book cover">
                        <% } else { %>
                            <img src="/images/book-cover-na.jpg" alt="book cover unavailable">
                        <% } %>
                    </div>
                    <div class="book-text">
                        <h2 class="book-title playfair"><%= book.title %></h2>
                        <h3 class="book-author">By <%= book.author %></h3>
                        <h4 class="book-rating">Rating: <%= book.rating %>/5</h4>
                        <p class="book-date">Date Read: <%= book.date_read.toLocaleDateString('en-CA') %></p>
                        <p><%= book.description %></p>
                        <% if (book.notes) { %>
                            <p>Notes:<br><%= book.notes %></p>
                        <% } %>                      
                    </div>
                </div>
                <hr class="book-divider">
            <% }); %>
        <% } %>        
    </div>

<%- include("partials/footer.ejs") %>